# ğŸ¥¬ SayurSegar Backend

Backend service untuk aplikasi **SayurSegar** â€” platform e-commerce sayur dan buah segar langsung dari petani.  
Dibangun dengan **Express.js + TypeScript**, menggunakan **Prisma ORM** untuk manajemen database.

---

## ğŸš€ Tech Stack

- **Runtime:** [Node.js](https://nodejs.org/)
- **Framework:** [Express.js](https://expressjs.com/)
- **Language:** TypeScript
- **ORM:** [Prisma](https://www.prisma.io/)
- **Database:** [Supabase](https://supabase.com/) (PostgreSQL)
- **Templating:** EJS (untuk view sederhana, misalnya email)

---

## ğŸ“‚ Project Structure

```base
be-sayur-segar/
â”‚
â”œâ”€â”€ .idea/ # Konfigurasi IDE (optional)
â”œâ”€â”€ prisma/ # Skema database & migrasi Prisma
â”œâ”€â”€ src/ # Kode sumber utama backend
â”‚ â”œâ”€â”€ controllers/ # Controller untuk handle request
â”‚ â”œâ”€â”€ middlewares/ # Middleware (auth, error handling, dsb.)
â”‚ â”œâ”€â”€ routes/ # Routing API
â”‚ â”œâ”€â”€ schema/ # Validasi request (Zod/Joi)
â”‚ â”œâ”€â”€ types/ # TypeScript types/interfaces
â”‚ â”œâ”€â”€ utils/ # Utility/helper functions
â”‚ â””â”€â”€ index.ts # Entry point Express app
â”‚
â”œâ”€â”€ .env.example # Contoh environment variables
â”œâ”€â”€ .gitignore # Ignore file/folder dari Git
â”œâ”€â”€ package.json # Dependensi & script npm
â”œâ”€â”€ package-lock.json # Versi eksak dependensi
â””â”€â”€ vercel.json # Konfigurasi deployment Vercel
```

## ğŸ› ï¸ Getting Started

### 1. Clone Repository

```bash
  git clone https://github.com/fahrurrzl/be-sayur-segar.git
  cd be-sayur-segar
```

### 2. Install Dependencies

```bash
npm install
```

### 3. Setup Environment Variables

Buat file .env berdasarkan .env.example

```bash
cp .env.example .env
```

Isi variabel sesuai dengan konfigurasi Supabase kamu:

```env
DATABASE_URL="postgresql://username:password@db.supabase.co:5432/postgres"
DIRECT_URL="postgresql://username:password@db.supabase.co:5432/postgres"
```

ğŸ“Œ **DATABASE_URL** dan **DIRECT_URL\*** bisa didapatkan dari Supabase Dashboard â†’ Project â†’ Settings â†’ Database.

### 4. Prisma Setup

Generate Prisma Client

```bash
npx prisma generate
```

Jalankan migrasi database ke Supabase

```bash
npx prisma migrate dev
```

### 5. Run Development Server

```bash
npm run dev
```

Server akan berjalan di: http://localhost:5000
(atau port yang ditentukan di .env)
